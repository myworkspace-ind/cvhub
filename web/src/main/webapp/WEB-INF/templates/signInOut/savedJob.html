<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Quản lý công việc đã lưu</title>
<link rel="stylesheet"
	href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<th:block th:include="fragments/head"></th:block>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
	<link rel="stylesheet" th:href="@{/resources/searchCondition/style1.css}" />
	<link rel="stylesheet" th:href="@{/resources/home/style.css}" />
	<link rel="stylesheet" th:href="@{/resources/home/jobRequest1.css}" />
</head>
<body style="padding: 0px;">
    <th:block th:include="fragments/hmenu"></th:block>
<div class="container">
    <div class="header text-center">
        <h1>Quản lý công việc đã lưu</h1>
    </div>

    <!-- Hiển thị thông báo lỗi nếu có -->
    <div th:if="${errorMessage}" class="alert alert-danger" th:text="${errorMessage}"></div>

    <!-- Danh sách công việc đã lưu -->

    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
			<div class="col" th:each="saved : ${savedJobs}">
				<div class="card h-100 job-card">
					<div class="card-header" th:text="${saved.jobRequest.title}">Job Title</div>
					<div class="card-body">
						<p class="card-text">
							<i class="fas fa-building"></i> Company Name:
							<span th:text="${saved.jobRequest.organization.title}">Company Name</span><br>
							
							<i class="fas fa-map-marker-alt"></i> Location:
							<span th:text="${saved.jobRequest.location.name}">Location</span><br> 
							
							<i class="fas fa-briefcase"></i> Job Role:
							<span th:text="${saved.jobRequest.jobRole.title}">Job Role</span><br> 
							
							<i class="fas fa-clock"></i> Experience: 
							<span th:text="${saved.jobRequest.experience + ' năm'}">Years</span> years<br> 
							
							<i class="fas fa-dollar-sign"></i> Salary: $
							<span th:text="${saved.jobRequest.salary + ' $'}">Salary</span>
						</p>
					</div>
					<div class="card-footer text-muted">
					    <small>Saved: <span th:text="${#dates.format(saved.createdAt, 'dd/MM/yyyy')}">Date</span></small>
					    <form th:action="@{/profile/savedjob/delete/{id}(id=${saved.id})}" method="post" style="display:inline;">
					        <button type="submit" class="btn btn-outline-success btn-sm float-end">Delete</button>
					    </form>
					</div>

				</div>
			</div>
		</div>

    <!-- Hiển thị thông báo nếu không có công việc nào được lưu -->
    <div class="alert alert-info text-center" style="margin-top: 20px;" th:if="${#lists.isEmpty(savedJobs)}">
        <p>Bạn chưa lưu công việc nào.</p>
    </div>
</div>
</body>
</html>
