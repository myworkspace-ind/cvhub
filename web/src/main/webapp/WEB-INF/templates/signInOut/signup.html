<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Đăng ký</title>
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<link rel="stylesheet" th:href="@{/resources/signInOut/signUp.css}" />
</head>
<body>
	<div class="container">
		<div class="form-section">
			<h1>Chào mừng bạn đến với CVHub</h1>
			<p class="subtitle">Cùng xây dựng một hồ sơ nổi bật và nhận được
				các cơ hội sự nghiệp lý tưởng</p>
			<div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>
			<div th:if="${success}" class="alert alert-success"
				th:text="${success}"></div>

			<form th:action="@{/register}" method="post"
				enctype="multipart/form-data">
				<div class="form-group">
					<label>Họ và tên</label> <input type="text"
						placeholder="Nhập họ tên" name="fullName" maxlength="254" required>
				</div>

				<div class="form-group">
					<label>Email</label> <input type="email" placeholder="Nhập email"
						name="email" maxlength="254" required>
				</div>
				
				<div class="form-group">
				    <label for="countrySelect">Chọn mã vùng</label>
				    <div class="select-wrapper">
				        <select id="countrySelect" name="dialCode" required>
				            <option value="" disabled selected>-- Chọn mã vùng --</option>
				        </select>
				    </div>
				</div>
				
				<div class="form-group">
				    <label for="phone">Phone</label>
				    <input type="text" id="phone" placeholder="Nhập số điện thoại" name="phone" 
				           required pattern="\d{10,11}" 
				           title="Vui lòng nhập số điện thoại hợp lệ (10-11 chữ số)" 
				           maxlength="15">
				</div>
				
				<div class="form-group">
					<label>Mật khẩu</label>
					<div class="password-input">
						<input type="password" placeholder="Nhập mật khẩu" name="password" required
				            pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$"
				            title="Mật khẩu phải có ít nhất 8 ký tự, bao gồm ít nhất một chữ cái viết hoa, một chữ cái viết thường, một chữ số và một ký tự đặc biệt." maxlength="254" >
				            <span class="eye-icon fa fa-eye"></span>
						<!-- Biểu tượng mắt mở -->
					</div>
				</div>

				<div class="form-group">
					<label>Xác nhận mật khẩu</label>
					<div class="password-input">
						<input type="password" placeholder="Nhập lại mật khẩu"
							name="confirmPassword" maxlength="254" required> <span
							class="eye-icon fa fa-eye"></span>
						<!-- Biểu tượng mắt mở -->
					</div>
				</div>

				<div class="checkbox-group"></div>
				<div class="terms">
					<label> <input type="checkbox"> Tôi đã đọc và đồng
						ý với <a href="#">Điều khoản dịch vụ</a> và <a href="#">Chính
							sách bảo mật</a>
					</label>
				</div>

				<button type="submit" class="btn btn-primary">Đăng ký</button>



				<div class="login-link">
					Bạn đã có tài khoản? <a th:href="@{login}">Đăng nhập ngay</a>
				</div>
			</form>
		</div>

		<div class="banner-section">
			<img src="/api/placeholder/200/50" alt="Logo">
			<h2>
				Tiếp lợi thế<br>Nối thành công
			</h2>
			<p>CVHub - Hệ sinh thái nhân sự tiên phong ứng dụng công nghệ tại
				Việt Nam</p>
		</div>
	</div>
	<script>
	document.addEventListener('DOMContentLoaded', function () {
        const countrySelect = document.getElementById('countrySelect');

        // Hàm fetch dữ liệu từ file JSON
        async function fetchCountries() {
            try {
                // Đọc dữ liệu từ file JSON (đường dẫn file JSON của bạn)
                const response = await fetch('resources/master-data/countries.json');
                const countries = await response.json();

                // Duyệt qua danh sách và thêm option vào combobox
                countries.forEach(country => {
                    const option = new Option(
                        `${country.name} (${country.dial_code})`, // Nội dung hiển thị
                        country.dial_code // Giá trị option
                    );
                    countrySelect.add(option); // Thêm option vào combobox
                });
            } catch (error) {
                console.error('Lỗi khi lấy dữ liệu quốc gia:', error);
            }
        }

        // Gọi hàm fetchCountries khi DOM được load
        fetchCountries();
    });
    // Lấy tất cả các biểu tượng mắt
    const eyeIcons = document.querySelectorAll('.eye-icon');
    
    // Lặp qua mỗi biểu tượng mắt và thêm sự kiện click
    eyeIcons.forEach(icon => {
        icon.addEventListener('click', function() {
            // Tìm trường input tương ứng với biểu tượng mắt
            const passwordInput = this.previousElementSibling;
            
            // Kiểm tra nếu trường input có type là "password"
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';  // Đổi type thành text để hiển thị mật khẩu
                this.classList.remove('fa-eye');  // Loại bỏ biểu tượng mắt mở
                this.classList.add('fa-eye-slash');  // Thêm biểu tượng mắt nhắm
            } else {
                passwordInput.type = 'password';  // Đổi type lại thành password để ẩn mật khẩu
                this.classList.remove('fa-eye-slash');  // Loại bỏ biểu tượng mắt nhắm
                this.classList.add('fa-eye');  // Thêm biểu tượng mắt mở
            }
        });
    });
</script>
</body>
</html>